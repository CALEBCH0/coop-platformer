{
  "author": "",
  "category": "Network",
  "extensionNamespace": "",
  "fullName": "Online Multiplayer",
  "helpPath": "https://pandako.itch.io/ome4gd",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggZD0iTTI3LjQsMTkuMmMwLjQtMS4zLDAuNi0yLjcsMC42LTQuMmMwLTcuNy02LjMtMTQtMTQtMTRTMCw3LjMsMCwxNWMwLDYuMiw0LjEsMTEuNywxMC4xLDEzLjRDMTEuMiwzMCwxMywzMSwxNSwzMQ0KCWMxLjIsMCwyLjMtMC4zLDMuMy0xaDQuNGMxLDAuNywyLjEsMSwzLjMsMWMzLjMsMCw2LTIuNyw2LTZDMzIsMjIuMiwzMCwxOS44LDI3LjQsMTkuMnogTTI1LjksMTRoLTVjLTAuMS00LjItMS4yLTcuOS0yLjgtMTAuMg0KCUMyMi41LDUuNCwyNS42LDkuMywyNS45LDE0eiBNOS44LDMuOEM4LjIsNi4xLDcuMiw5LjgsNywxNGgtNUMyLjQsOS4zLDUuNSw1LjQsOS44LDMuOHogTTIsMTZoNWMwLjEsMy40LDAuOCw2LjYsMiw4LjkNCgljMCwwLDAsMC4xLDAsMC4xYzAsMC4zLDAsMC42LDAuMSwxQzUuMSwyNC4yLDIuNCwyMC40LDIsMTZ6IE0xNywyNmgtMXYxYzAsMC42LTAuNCwxLTEsMXMtMS0wLjQtMS0xdi0xaC0xYy0wLjYsMC0xLTAuNC0xLTENCglzMC40LTEsMS0xaDF2LTFjMC0wLjYsMC40LTEsMS0xczEsMC40LDEsMXYxaDFjMC42LDAsMSwwLjQsMSwxUzE3LjYsMjYsMTcsMjZ6IE0xOC41LDIwaC0wLjJjLTEtMC43LTIuMS0xLTMuMy0xDQoJYy0yLjEsMC00LDEuMS01LjEsMi44QzkuNCwyMC4xLDkuMSwxOC4xLDksMTZIMTlDMTguOSwxNy40LDE4LjgsMTguNywxOC41LDIweiBNOSwxNGMwLjItNi41LDIuNy0xMSw1LTExczQuNyw0LjUsNSwxMUg5eiBNMjAuNiwyMA0KCWMwLjItMS4zLDAuNC0yLjYsMC40LTRoNWMtMC4xLDEtMC4zLDIuMS0wLjcsMy4xYy0wLjksMC4xLTEuOCwwLjQtMi42LDAuOUgyMC42eiBNMjUuOSwyNi40Yy0wLjEsMC4xLTAuMSwwLjItMC4yLDAuMw0KCWMtMC4xLDAuMS0wLjIsMC4yLTAuMywwLjJTMjUuMSwyNywyNSwyN2MtMC4xLDAtMC4zLDAtMC40LTAuMWMtMC4xLDAtMC4yLTAuMS0wLjMtMC4yYy0wLjEtMC4xLTAuMi0wLjItMC4yLTAuMw0KCWMwLTAuMS0wLjEtMC4zLTAuMS0wLjRzMC0wLjMsMC4xLTAuNGMwLjEtMC4xLDAuMS0wLjIsMC4yLTAuM2MwLjEtMC4xLDAuMi0wLjIsMC4zLTAuMmMwLjQtMC4yLDAuOC0wLjEsMS4xLDAuMg0KCWMwLjEsMC4xLDAuMiwwLjIsMC4yLDAuM2MwLDAuMSwwLjEsMC4zLDAuMSwwLjRTMjYsMjYuMywyNS45LDI2LjR6IE0yNy43LDI0LjdDMjcuNSwyNC45LDI3LjMsMjUsMjcsMjVjLTAuMSwwLTAuMywwLTAuNC0wLjENCgljLTAuMSwwLTAuMi0wLjEtMC4zLTAuMmMtMC4xLTAuMS0wLjItMC4yLTAuMi0wLjNjMC0wLjEtMC4xLTAuMy0wLjEtMC40YzAtMC4zLDAuMS0wLjUsMC4zLTAuN2MwLjEtMC4xLDAuMi0wLjIsMC4zLTAuMg0KCUMyNi44LDIzLDI3LDIzLDI3LjIsMjNjMC4xLDAsMC4xLDAsMC4yLDAuMWMwLjEsMCwwLjEsMCwwLjIsMC4xYzAsMCwwLjEsMC4xLDAuMSwwLjFjMC4yLDAuMiwwLjMsMC41LDAuMywwLjcNCglDMjgsMjQuMywyNy45LDI0LjUsMjcuNywyNC43eiIvPg0KPC9zdmc+DQo=",
  "name": "OnlineMultiplayer",
  "previewIconUrl": "https://asset-resources.gdevelop.io/public-resources/Icons/Glyphster Pack/Master/SVG/Videogames/731cf433fd7312cfdfacd57464b9b536e1336944ff17d62b6f8973dcee8d1e9c_Videogames_online_gaming_games_joystick_connect_network.svg",
  "shortDescription": "This is an extension for creating online multiplayer games.",
  "version": "0.0.7",
  "description": [
    "This is an extension that connects to \"ws.pandako.mydns.jp\".  ",
    "",
    "⚠️ This extension is experimental and not yet practical. Also, development may be discontinued.  ",
    "⚠️ This extension is not suitable for action games that require precise synchronization.  ",
    "⚠️ This extension will not work when the server is down.  ",
    "⚠️ The server may be restarted without notice for development purposes.  ",
    "☕ I need your support to maintain this server.  ",
    "",
    "[![ko-fi](https://ko-fi.com/img/githubbutton_sm.svg)](https://ko-fi.com/M4M0H16WH)",
    "",
    "**Disclaimer**  ",
    "I am not responsible for any trouble, loss, or damage caused by the use of this extension."
  ],
  "tags": [
    "WebSocket",
    "network"
  ],
  "authorIds": [
    "Zu55H5hcb9YmZTltIVOTAFDJQyB2"
  ],
  "dependencies": [],
  "eventsFunctions": [
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onFirstSceneLoaded",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "console.log(\"Loaded Online Multiplayer Extension.\");\r",
            "\r",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "fullName": "",
      "functionType": "Action",
      "name": "onSceneUnloading",
      "sentence": "",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "if (gdjs._OnlineMultiplayer) {",
            "    const WS = gdjs._OnlineMultiplayer.get(\"WS\");",
            "    WS.close();",
            "    gdjs._OnlineMultiplayer = undefined;",
            "}"
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": false
        }
      ],
      "parameters": [],
      "objectGroups": []
    },
    {
      "async": true,
      "description": "Request all scene information from the server and store the response in a scene variable.\nThe server returns the number of players in each scene.\nThis action is asynchronous.",
      "fullName": "Request scene information",
      "functionType": "Action",
      "name": "RequestSceneInformation",
      "sentence": "Store all scene information in scene variable _PARAM1_",
      "events": [
        {
          "type": "BuiltinCommonInstructions::JsCode",
          "inlineCode": [
            "const Task = eventsFunctionContext.task;",
            "const URL = \"https://ws.pandako.mydns.jp/\" + runtimeScene.getGame().getGameData().properties.name;",
            "const SceneVariable = runtimeScene.getVariables().get(eventsFunctionContext.getArgument(\"SceneVariableName\"));",
            "(async () => {",
            "    SceneVariable.fromJSObject(await (await fetch(URL)).json());",
            "    Task.resolve();",
            "})();",
            "",
            ""
          ],
          "parameterObjects": "",
          "useStrict": true,
          "eventsSheetExpanded": true
        }
      ],
      "parameters": [
        {
          "description": "Scene Variable Name",
          "name": "SceneVariableName",
          "type": "string"
        }
      ],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": [
    {
      "description": "Share sprite positions, etc. with players connected to the same scene.",
      "fullName": "Online Player",
      "name": "OnlinePlayer",
      "objectType": "Sprite",
      "eventsFunctions": [
        {
          "fullName": "",
          "functionType": "Action",
          "name": "doStepPostEvents",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "function _0x52e7(){const _0x2fc464=['resetTimer','3843216wLfFnR','Do\\x20not\\x20create\\x20more\\x20than\\x20one!','Data','getDefaultZOrder','Animation','deleteFromScene','setAngle','_OnlineMultiplayerAngleTween','warn','_getConnectedFrameCounter','wss://ws.pandako.mydns.jp/','549206LVgvyz','getTimerElapsedTimeInSeconds','open','delete','2956620tZdkKG','104qskTKR','Random','2450760OAgHao','setZOrder','message','flipY','Received\\x20unexpected\\x20data!','data','getInstancesCountOnScene','GetFlipNum','LastReceivedTime','getAngle','has','_setFirstFrame','Log','1209868XTPeSY','ZOrder','SharedString','getAnimation','push','getY','_getZOrder','getLayer','get','Tween','ObjectName','parse','getName','_OnlineMultiplayerPositionTween','_OnlineMultiplayer','isFlippedX','Message','setAnimation','setX','\\x22,\\x20\\x22Scene\\x22:\\x20\\x22','addObjectPositionTween','\\x22,\\x20\\x22ObjectName\\x22:\\x20\\x22','_getId','set','Flip','length','close','Type','_getPositionInterpolation','_setActive','Connected','send','Update','_getDisconnectedFrameCounter','_getAnimation','readyState','_setDisconnectedFrameCounter','addEventListener','3815539kFgJIM','Angle','_setId','OnlinePlayer','linear','exists','getGame','createObject','stringify','removeTween','now','properties','_OnlineMultiplayerTimer','SetFlip','_getFlip','getZOrder','Error','_getFirstFrame','Frame','name','5718vvgpVp','_setConnectedFrameCounter','getAnimationFrame','Players','getBehavior','SetSharedString','setAnimationFrame','_getFrame'];_0x52e7=function(){return _0x2fc464;};return _0x52e7();}function _0x4417(_0x4e4117,_0x520d34){const _0x52e77c=_0x52e7();return _0x4417=function(_0x441784,_0xefa41b){_0x441784=_0x441784-0x69;let _0x15f69c=_0x52e77c[_0x441784];return _0x15f69c;},_0x4417(_0x4e4117,_0x520d34);}(function(_0x5d293a,_0x2b15fe){const _0x3bad77=_0x4417,_0x4a9fdb=_0x5d293a();while(!![]){try{const _0x28cb9b=-parseInt(_0x3bad77(0xa3))/0x1+parseInt(_0x3bad77(0xb7))/0x2+-parseInt(_0x3bad77(0x8f))/0x3*(-parseInt(_0x3bad77(0xa8))/0x4)+parseInt(_0x3bad77(0xa7))/0x5+parseInt(_0x3bad77(0x98))/0x6+-parseInt(_0x3bad77(0x7b))/0x7+-parseInt(_0x3bad77(0xaa))/0x8;if(_0x28cb9b===_0x2b15fe)break;else _0x4a9fdb['push'](_0x4a9fdb['shift']());}catch(_0x10811c){_0x4a9fdb['push'](_0x4a9fdb['shift']());}}}(_0x52e7,0x7695a),((()=>{const _0x26de55=_0x4417,_0x4fcc1c=objects[0x0],_0x3330a0=_0x4fcc1c[_0x26de55(0x93)](_0x26de55(0x7e));if(_0x3330a0['_getActive']()){if(_0x3330a0['_getFirstFrame']()){_0x3330a0[_0x26de55(0xb5)](![]);if(runtimeScene[_0x26de55(0xb0)](_0x4fcc1c['name'])>0x1){_0x4fcc1c[_0x26de55(0x9d)](runtimeScene),console[_0x26de55(0xa0)](_0x26de55(0x99));return;}if(gdjs[_0x26de55(0xc5)]){_0x4fcc1c['deleteFromScene'](runtimeScene),console[_0x26de55(0xa0)](_0x26de55(0x99));return;}gdjs['_OnlineMultiplayer']=new Map(),gdjs['_OnlineMultiplayer']['set']('WS',new WebSocket(_0x26de55(0xa2))),gdjs[_0x26de55(0xc5)][_0x26de55(0x6c)](_0x26de55(0xb6),[]),gdjs[_0x26de55(0xc5)][_0x26de55(0x6c)]('Id',''),gdjs['_OnlineMultiplayer'][_0x26de55(0x6c)]('Message',{}),gdjs[_0x26de55(0xc5)]['set'](_0x26de55(0xa9),-0x1),gdjs[_0x26de55(0xc5)]['set']('T',0.1),gdjs['_OnlineMultiplayer'][_0x26de55(0x6c)]('T',24.6/0x7b),gdjs[_0x26de55(0xc5)][_0x26de55(0x6c)](_0x26de55(0xb2),Date['now']()),gdjs['_OnlineMultiplayer']['set'](_0x26de55(0x92),new Map()),gdjs[_0x26de55(0xc5)][_0x26de55(0x6c)](_0x26de55(0xb1),(_0x7b5227,_0x23a02d)=>{let _0x26d399=0x0;return _0x26d399+=_0x7b5227?0x1:0x0,_0x26d399+=_0x23a02d?0x2:0x0,_0x26d399;}),gdjs[_0x26de55(0xc5)][_0x26de55(0x6c)](_0x26de55(0x88),(_0x383300,_0x24bb21)=>{const _0x544bc2=_0x26de55;_0x383300['flipX'](![]),_0x383300[_0x544bc2(0xad)](![]),(_0x24bb21==0x1||_0x24bb21==0x3)&&_0x383300['flipX'](!![]),(_0x24bb21==0x2||_0x24bb21==0x3)&&_0x383300[_0x544bc2(0xad)](!![]);}),gdjs[_0x26de55(0xc5)][_0x26de55(0x6c)](_0x26de55(0x8b),![]);const _0x3a1818=gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)]('WS');_0x3a1818['addEventListener'](_0x26de55(0xa5),_0x55c276=>{const _0x46a36b=_0x26de55;_0x3a1818[_0x46a36b(0x74)]('{\\x22Type\\x22:\\x22Connect\\x22,\\x20\\x22Game\\x22:\\x22'+runtimeScene[_0x46a36b(0x81)]()['getGameData']()[_0x46a36b(0x86)][_0x46a36b(0x8e)]+_0x46a36b(0xca)+runtimeScene[_0x46a36b(0xc3)]()+_0x46a36b(0x6a)+_0x4fcc1c['name']+'\\x22}');}),_0x3a1818[_0x26de55(0x7a)](_0x26de55(0xac),_0x5c8f6e=>{const _0x55ba0f=_0x26de55,_0x4c9815=JSON[_0x55ba0f(0xc2)](_0x5c8f6e[_0x55ba0f(0xaf)]),_0x25cf91=gdjs[_0x55ba0f(0xc5)][_0x55ba0f(0xbf)]('Log');_0x4c9815[_0x55ba0f(0x70)]==_0x55ba0f(0x73)?(gdjs['_OnlineMultiplayer'][_0x55ba0f(0x6c)]('Id',_0x4c9815['Id']),_0x3330a0['_setId'](_0x4c9815['Id'])):_0x25cf91[_0x55ba0f(0xbb)](_0x4c9815),gdjs[_0x55ba0f(0xc5)]['set'](_0x55ba0f(0xb2),Date[_0x55ba0f(0x85)]());}),_0x3a1818[_0x26de55(0x7a)]('error',_0x248c28=>{const _0x2699c1=_0x26de55;gdjs[_0x2699c1(0xc5)]['set'](_0x2699c1(0x8b),!![]);}),_0x3a1818[_0x26de55(0x7a)](_0x26de55(0x6f),_0x55b35c=>{}),_0x4fcc1c[_0x26de55(0x97)]('_OnlineMultiplayerTimer');}if(!gdjs[_0x26de55(0xc5)]){_0x3330a0['_setDisconnectedFrameCounter'](_0x3330a0['_getDisconnectedFrameCounter']()+0x1);return;}const _0x4666fe=gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)]('WS');if(_0x4666fe[_0x26de55(0x78)]==0x0)return;else{if(_0x4666fe[_0x26de55(0x78)]>=0x2){_0x3330a0[_0x26de55(0x79)](_0x3330a0[_0x26de55(0x76)]()+0x1);_0x3330a0[_0x26de55(0x76)]()>0x1&&(gdjs[_0x26de55(0xc5)]=undefined);return;}else{if(_0x3330a0[_0x26de55(0x6b)]()==='')return;}}_0x3330a0['_setConnectedFrameCounter'](_0x3330a0[_0x26de55(0xa1)]()+0x1);if(gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)](_0x26de55(0xb2))+0x1388<Date[_0x26de55(0x85)]()){_0x4666fe[_0x26de55(0x6f)]();return;}let _0x204ed4=gdjs[_0x26de55(0xc5)]['get'](_0x26de55(0xb6));const _0x5cd28f=gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)](_0x26de55(0x92)),_0x4e9c9e=new Map();for(const _0x5d76a0 of _0x204ed4){if(_0x5d76a0[_0x26de55(0x70)]==_0x26de55(0x75)){gdjs[_0x26de55(0xc5)][_0x26de55(0x6c)](_0x26de55(0xa9),_0x5d76a0[_0x26de55(0xa9)]);for(const _0x592d77 of _0x5d76a0[_0x26de55(0x9a)]){_0x4e9c9e[_0x26de55(0x6c)](_0x592d77['Id'],'');if(gdjs[_0x26de55(0xc5)]['get']('Id')!==_0x592d77['Id']){let _0x50f840;_0x5cd28f[_0x26de55(0xb4)](_0x592d77['Id'])?_0x50f840=_0x5cd28f['get'](_0x592d77['Id']):(_0x50f840=runtimeScene[_0x26de55(0x82)](_0x592d77[_0x26de55(0xc1)]),_0x50f840[_0x26de55(0x93)](_0x26de55(0x7e))[_0x26de55(0x72)](![]),_0x50f840['getBehavior']('OnlinePlayer')[_0x26de55(0x7d)](_0x592d77['Id']),_0x50f840['setZOrder'](runtimeScene[_0x26de55(0xbe)]('')[_0x26de55(0x9b)]()),_0x5cd28f['set'](_0x592d77['Id'],_0x50f840));if(_0x592d77['X']!==undefined){if(_0x50f840['getBehavior'](_0x26de55(0x7e))[_0x26de55(0x71)]()){const _0x5611a6=_0x50f840['getBehavior']('Tween');_0x5611a6['exists'](_0x26de55(0xc4))&&_0x5611a6['removeTween'](_0x26de55(0xc4)),_0x5611a6[_0x26de55(0x69)](_0x26de55(0xc4),_0x592d77['X'],_0x592d77['Y'],'linear',gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)]('T')*0x3e8,![]);}else _0x50f840[_0x26de55(0xc9)](_0x592d77['X']),_0x50f840['setY'](_0x592d77['Y']);}if(_0x592d77[_0x26de55(0x7c)]!==undefined){if(_0x50f840[_0x26de55(0x93)](_0x26de55(0x7e))[_0x26de55(0x71)]()){const _0x38966d=_0x50f840['getBehavior'](_0x26de55(0xc0));_0x38966d[_0x26de55(0x80)](_0x26de55(0x9f))&&_0x38966d[_0x26de55(0x84)](_0x26de55(0x9f)),_0x38966d['addObjectAngleTween'](_0x26de55(0x9f),_0x592d77[_0x26de55(0x7c)],_0x26de55(0x7f),gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)]('T')*0x3e8,![]);}else _0x50f840[_0x26de55(0x9e)](_0x592d77[_0x26de55(0x7c)]);}_0x592d77[_0x26de55(0xb8)]!==undefined&&_0x50f840[_0x26de55(0xab)](_0x592d77[_0x26de55(0xb8)]),_0x592d77['Animation']!==undefined&&_0x50f840[_0x26de55(0xc8)](_0x592d77[_0x26de55(0x9c)]),_0x592d77['Frame']!==undefined&&_0x50f840[_0x26de55(0x95)](_0x592d77['Frame']),_0x592d77[_0x26de55(0x6d)]!==undefined&&gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)](_0x26de55(0x88))(_0x50f840,_0x592d77[_0x26de55(0x6d)]),_0x592d77[_0x26de55(0xb9)]!==undefined&&_0x50f840['getBehavior'](_0x26de55(0x7e))[_0x26de55(0x94)](_0x592d77[_0x26de55(0xb9)]);}}}else console['warn'](_0x26de55(0xae));}if(_0x204ed4[_0x26de55(0x6e)]>0x0)for(let [_0x33a657,_0x22d457]of _0x5cd28f){!_0x4e9c9e[_0x26de55(0xb4)](_0x33a657)&&_0x5cd28f[_0x26de55(0xa6)](_0x33a657);}gdjs[_0x26de55(0xc5)][_0x26de55(0x6c)](_0x26de55(0xb6),[]);if(gdjs[_0x26de55(0xc5)]['get']('Id')=='')return;if(_0x4fcc1c[_0x26de55(0xa4)](_0x26de55(0x87))<gdjs[_0x26de55(0xc5)]['get']('T'))return;_0x4fcc1c['resetTimer'](_0x26de55(0x87));const _0x36bd68=gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)](_0x26de55(0xc7));_0x3330a0['_getPosition']()&&(_0x36bd68['X']=_0x4fcc1c['getX'](),_0x36bd68['Y']=_0x4fcc1c[_0x26de55(0xbc)]());_0x3330a0['_getAngle']()&&(_0x36bd68[_0x26de55(0x7c)]=_0x4fcc1c[_0x26de55(0xb3)]());_0x3330a0[_0x26de55(0xbd)]()&&(_0x36bd68['ZOrder']=_0x4fcc1c[_0x26de55(0x8a)]());_0x3330a0[_0x26de55(0x77)]()&&(_0x36bd68['Animation']=_0x4fcc1c[_0x26de55(0xba)]());_0x3330a0[_0x26de55(0x96)]()&&(_0x36bd68[_0x26de55(0x8d)]=_0x4fcc1c[_0x26de55(0x91)]());_0x3330a0[_0x26de55(0x89)]()&&(_0x36bd68[_0x26de55(0x6d)]=gdjs['_OnlineMultiplayer'][_0x26de55(0xbf)](_0x26de55(0xb1))(_0x4fcc1c[_0x26de55(0xc6)](),_0x4fcc1c['isFlippedY']()));if(Object['keys'](_0x36bd68)[_0x26de55(0x6e)]==0x0)return;_0x36bd68[_0x26de55(0x70)]='Update',_0x36bd68['Id']=gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)]('Id'),_0x36bd68[_0x26de55(0xb9)]=_0x3330a0[_0x26de55(0xb9)](),_0x4666fe[_0x26de55(0x74)](JSON[_0x26de55(0x83)](_0x36bd68)),gdjs['_OnlineMultiplayer'][_0x26de55(0x6c)](_0x26de55(0xc7),{});}else{_0x3330a0[_0x26de55(0x8c)]()&&_0x3330a0[_0x26de55(0xb5)](![]);if(gdjs[_0x26de55(0xc5)]){const _0x35209d=gdjs[_0x26de55(0xc5)][_0x26de55(0xbf)](_0x26de55(0x92)),_0x37604a=_0x35209d[_0x26de55(0xb4)](_0x3330a0[_0x26de55(0x6b)]());_0x37604a?_0x3330a0[_0x26de55(0x90)](_0x3330a0[_0x26de55(0xa1)]()+0x1):_0x3330a0['_setDisconnectedFrameCounter'](_0x3330a0[_0x26de55(0x76)]()+0x1);}else _0x3330a0[_0x26de55(0x79)](_0x3330a0[_0x26de55(0x76)]()+0x1);}})()));",
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "",
          "functionType": "Action",
          "name": "onDestroy",
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const Obj = objects[0];",
                "const Behavior = Obj.getBehavior(\"OnlinePlayer\");",
                "if (Behavior._getActive()) {",
                "    if (gdjs._OnlineMultiplayer) {",
                "        const WS = gdjs._OnlineMultiplayer.get(\"WS\");",
                "        WS.close();",
                "        gdjs._OnlineMultiplayer = undefined;",
                "    }",
                "}"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Set a shared string.\nValid only for me.",
          "fullName": "Set shared string",
          "functionType": "Action",
          "name": "SetSharedString",
          "sentence": "Set shared string of _PARAM0_ to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::CompareNumbers"
                  },
                  "parameters": [
                    "StrLength(GetArgumentAsString(\"String\"))",
                    ">",
                    "100"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "OnlineMultiplayer::OnlinePlayer::SetPropertySharedString"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "\"\""
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "console.warn(\"Shared string exceeds 100 characters!\");",
                  "parameterObjects": "",
                  "useStrict": true,
                  "eventsSheetExpanded": false
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::CompareNumbers"
                  },
                  "parameters": [
                    "StrLength(GetArgumentAsString(\"String\"))",
                    "<=",
                    "100"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "OnlineMultiplayer::OnlinePlayer::SetPropertySharedString"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "=",
                    "GetArgumentAsString(\"String\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            },
            {
              "description": "String",
              "longDescription": "If the string exceeds 100 characters, it is cleared and will not be sent.  \nBe careful especially when sending JSON.",
              "name": "String",
              "type": "string"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change position interpolation.\nThis doesn't work for me.",
          "fullName": "Change position interpolation",
          "functionType": "Action",
          "name": "ChangePositionInterpolation",
          "sentence": "Change _PARAM0_ position interpolation to _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"Interpolate\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "OnlineMultiplayer::OnlinePlayer::SetPropertyPositionInterpolation"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "no"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GetArgumentAsBoolean"
                  },
                  "parameters": [
                    "\"Interpolate\""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "OnlineMultiplayer::OnlinePlayer::SetPropertyPositionInterpolation"
                  },
                  "parameters": [
                    "Object",
                    "Behavior",
                    "yes"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            },
            {
              "description": "",
              "name": "Interpolate",
              "type": "yesorno"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Disconnect from the server.",
          "fullName": "Disconnect",
          "functionType": "Action",
          "name": "Disconnect",
          "sentence": "Disconnect _PARAM0_ from the server",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const Obj = objects[0];",
                "const Behavior = Obj.getBehavior(\"OnlinePlayer\");",
                "if (Behavior._getActive()) {",
                "    if (gdjs._OnlineMultiplayer) {",
                "        const WS = gdjs._OnlineMultiplayer.get(\"WS\");",
                "        WS.close();",
                "    }",
                "}"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Compare the connection status with server of sprite.",
          "fullName": "Connection status",
          "functionType": "Condition",
          "name": "ConnectionStatus",
          "sentence": "Connection status of _PARAM0_ is _PARAM2_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const Obj = objects[0];\r",
                "const Behavior = Obj.getBehavior(\"OnlinePlayer\");\r",
                "const Status = eventsFunctionContext.getArgument(\"Status\");\r",
                "eventsFunctionContext.returnValue = false;\r",
                "if (Behavior._getActive()) {\r",
                "    if (gdjs._OnlineMultiplayer) {\r",
                "        const WS = gdjs._OnlineMultiplayer.get(\"WS\");\r",
                "        if (Status == \"Before connection\" && WS.readyState === 0) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "        if (Status == \"Connected just now\" && WS.readyState === 1 && Behavior._getConnectedFrameCounter() === 1) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "        if (Status == \"Connected\" && WS.readyState === 1) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "        if (Status == \"Disconnected just now\" && WS.readyState >= 2 && Behavior._getDisconnectedFrameCounter() === 1) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "        if (Status == \"Disconnected\" && WS.readyState >= 2) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "    } else {\r",
                "        if (Status == \"Before connection\") {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "    }\r",
                "} else {\r",
                "    if (gdjs._OnlineMultiplayer) {\r",
                "        const Players = gdjs._OnlineMultiplayer.get(\"Players\");\r",
                "        const Has = Players.has(Behavior._getId());\r",
                "        if (Status == \"Connected just now\" && Has && Behavior._getFirstFrame()) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "        if (Status == \"Connected\" && Has) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "        if (Status == \"Disconnected just now\" && !Has && Behavior._getDisconnectedFrameCounter() === 1) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "        if (Status == \"Disconnected\" && !Has) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "    } else {\r",
                "        if (Status == \"Disconnected just now\" && Behavior._getDisconnectedFrameCounter() === 1) {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "        if (Status == \"Disconnected\") {\r",
                "            eventsFunctionContext.returnValue = true;\r",
                "        }\r",
                "    }\r",
                "}"
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            },
            {
              "description": "Status",
              "name": "Status",
              "supplementaryInformation": "[\"Before connection\",\"Connected just now\",\"Connected\",\"Disconnected just now\",\"Disconnected\"]",
              "type": "stringWithSelector"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "Check if it's me",
          "functionType": "Condition",
          "name": "IsMe",
          "sentence": "Check if _PARAM0_ is me",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "OnlineMultiplayer::OnlinePlayer::PropertyActive"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "False"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "OnlineMultiplayer::OnlinePlayer::PropertyActive"
                  },
                  "parameters": [
                    "Object",
                    "Behavior"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "fullName": "Error has occurred",
          "functionType": "Condition",
          "name": "ErrorOccurred",
          "sentence": "Error has occurred in _PARAM0_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "const Obj = objects[0];",
                "const Behavior = Obj.getBehavior(\"OnlinePlayer\");",
                "eventsFunctionContext.returnValue = false;",
                "if (Behavior._getActive()) {",
                "    if (gdjs._OnlineMultiplayer) {",
                "        eventsFunctionContext.returnValue = gdjs._OnlineMultiplayer.get(\"Error\");",
                "    }",
                "}",
                "",
                ""
              ],
              "parameterObjects": "Object",
              "useStrict": true,
              "eventsSheetExpanded": true
            }
          ],
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Online ID",
          "fullName": "Online ID",
          "functionType": "ExpressionAndCondition",
          "name": "OnlineID",
          "sentence": "Online ID",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnString"
                  },
                  "parameters": [
                    "Object.Behavior::PropertyId()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "string"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Shared string",
          "fullName": "Shared string",
          "functionType": "ExpressionAndCondition",
          "name": "SharedString",
          "sentence": "Shared string",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnString"
                  },
                  "parameters": [
                    "Object.Behavior::PropertySharedString()"
                  ]
                }
              ]
            }
          ],
          "expressionType": {
            "type": "string"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Shared random value of scene.\nReturns a random number between 0 and 99 issued by the server.\nReturns -1 until sharing starts.",
          "fullName": "Shared random value of scene",
          "functionType": "ExpressionAndCondition",
          "name": "SharedRandomOfScene",
          "sentence": "Scene shared random value",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": [
                "if (gdjs._OnlineMultiplayer) {\r",
                "    eventsFunctionContext.returnValue = gdjs._OnlineMultiplayer.get(\"Random\");\r",
                "} else {\r",
                "    eventsFunctionContext.returnValue = -1;\r",
                "}"
              ],
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "expressionType": {
            "type": "expression"
          },
          "parameters": [
            {
              "description": "Object",
              "name": "Object",
              "supplementaryInformation": "Sprite",
              "type": "object"
            },
            {
              "description": "Behavior",
              "name": "Behavior",
              "supplementaryInformation": "OnlineMultiplayer::OnlinePlayer",
              "type": "behavior"
            }
          ],
          "objectGroups": []
        }
      ],
      "propertyDescriptors": [
        {
          "value": "true",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "FirstFrame"
        },
        {
          "value": "true",
          "type": "Boolean",
          "label": "Position",
          "description": "",
          "group": "Properties to share",
          "extraInformation": [],
          "hidden": false,
          "name": "Position"
        },
        {
          "value": "true",
          "type": "Boolean",
          "label": "Angle",
          "description": "",
          "group": "Properties to share",
          "extraInformation": [],
          "hidden": false,
          "name": "Angle"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "Z Order",
          "description": "",
          "group": "Properties to share",
          "extraInformation": [],
          "hidden": false,
          "name": "ZOrder"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "Properties to share",
          "extraInformation": [],
          "hidden": false,
          "name": "Animation"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "Animation Frame",
          "description": "",
          "group": "Properties to share",
          "extraInformation": [],
          "hidden": false,
          "name": "Frame"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "Properties to share",
          "extraInformation": [],
          "hidden": false,
          "name": "Flip"
        },
        {
          "value": "",
          "type": "Boolean",
          "label": "Position Interpolation",
          "description": "This doesn't work for me.",
          "group": "Interpolate",
          "extraInformation": [],
          "hidden": false,
          "name": "PositionInterpolation"
        },
        {
          "value": "",
          "type": "String",
          "label": "Online ID",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Id"
        },
        {
          "value": "true",
          "type": "Boolean",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "Active"
        },
        {
          "value": "",
          "type": "String",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "SharedString"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "ConnectedFrameCounter"
        },
        {
          "value": "0",
          "type": "Number",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [],
          "hidden": true,
          "name": "DisconnectedFrameCounter"
        },
        {
          "value": "",
          "type": "Behavior",
          "label": "",
          "description": "",
          "group": "",
          "extraInformation": [
            "Tween::TweenBehavior"
          ],
          "hidden": false,
          "name": "Tween"
        }
      ],
      "sharedPropertyDescriptors": []
    }
  ],
  "eventsBasedObjects": []
}